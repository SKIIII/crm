var G=Object.defineProperty,W=Object.defineProperties;var z=Object.getOwnPropertyDescriptors;var A=Object.getOwnPropertySymbols;var J=Object.prototype.hasOwnProperty,X=Object.prototype.propertyIsEnumerable;var F=(e,t,o)=>t in e?G(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,L=(e,t)=>{for(var o in t||(t={}))J.call(t,o)&&F(e,o,t[o]);if(A)for(var o of A(t))X.call(t,o)&&F(e,o,t[o]);return e},x=(e,t)=>W(e,z(t));import{c as K,a as Y,b as p,_ as O,u as D,r as V,o as Q,t as Z,d,e as v,f as I,g as r,h as y,i as g,j as c,w as i,k as m,p as R,l as P,m as ee,n as T,q as te,s as oe,v as ne,x as ae,y as se,z as re,A as le,B as ie,C as ce,D as ue,E as de,F as _e,G as pe,H as me,I as he,J as fe,K as ve,L as ge,M as Ie,N as be,O as Ee,P as ye,Q as we,R as Re,S as Pe,T as $e,U as ke,V as Ae,W as Fe,X as Le,Y as xe,Z as Oe}from"./vendor.bcf7419b.js";const Te=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function o(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerpolicy&&(a.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?a.credentials="include":n.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(n){if(n.ep)return;n.ep=!0;const a=o(n);fetch(n.href,a)}};Te();const Me="modulepreload",M={},De="./",u=function(t,o){return!o||o.length===0?t():Promise.all(o.map(s=>{if(s=`${De}${s}`,s in M)return;M[s]=!0;const n=s.endsWith(".css"),a=n?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${a}`))return;const l=document.createElement("link");if(l.rel=n?"stylesheet":Me,n||(l.as="script",l.crossOrigin=""),l.href=s,document.head.appendChild(l),n)return new Promise((h,f)=>{l.addEventListener("load",h),l.addEventListener("error",f)})})).then(()=>t())},S=K({history:Y(),routes:[{path:"/",redirect:"/introduce"},{path:"/introduce",name:"introduce",component:()=>u(()=>import("./Introduce.c8f5f92d.js"),["assets/Introduce.c8f5f92d.js","assets/Introduce.934b2ec9.css","assets/vendor.bcf7419b.js"])},{path:"/dashboard",name:"dashboard",component:()=>u(()=>import("./Index.3b9e4bfb.js"),["assets/Index.3b9e4bfb.js","assets/Index.56967ad0.css","assets/vendor.bcf7419b.js"])},{path:"/login",name:"login",component:()=>u(()=>import("./Login.27cfd2fd.js"),["assets/Login.27cfd2fd.js","assets/Login.9c36e029.css","assets/vendor.bcf7419b.js","assets/md5.85c9fa83.js"])},{path:"/add",name:"add",component:()=>u(()=>import("./AddGood.38c0ce59.js"),["assets/AddGood.38c0ce59.js","assets/AddGood.60b5558b.css","assets/vendor.bcf7419b.js","assets/wangEditor.71934d25.js"])},{path:"/swiper",name:"swiper",component:()=>u(()=>import("./Swiper.69a09911.js"),["assets/Swiper.69a09911.js","assets/Swiper.39fbf7df.css","assets/vendor.bcf7419b.js"])},{path:"/hot",name:"hot",component:()=>u(()=>import("./IndexConfig.55b20a1e.js"),["assets/IndexConfig.55b20a1e.js","assets/IndexConfig.d98592e8.css","assets/vendor.bcf7419b.js"])},{path:"/new",name:"new",component:()=>u(()=>import("./IndexConfig.55b20a1e.js"),["assets/IndexConfig.55b20a1e.js","assets/IndexConfig.d98592e8.css","assets/vendor.bcf7419b.js"])},{path:"/recommend",name:"recommend",component:()=>u(()=>import("./IndexConfig.55b20a1e.js"),["assets/IndexConfig.55b20a1e.js","assets/IndexConfig.d98592e8.css","assets/vendor.bcf7419b.js"])},{path:"/category",name:"category",component:()=>u(()=>import("./Category.b68921bf.js"),["assets/Category.b68921bf.js","assets/Category.d67a46bd.css","assets/vendor.bcf7419b.js"]),children:[{path:"/category/level2",name:"level2",component:()=>u(()=>import("./Category.b68921bf.js"),["assets/Category.b68921bf.js","assets/Category.d67a46bd.css","assets/vendor.bcf7419b.js"])},{path:"/category/level3",name:"level3",component:()=>u(()=>import("./Category.b68921bf.js"),["assets/Category.b68921bf.js","assets/Category.d67a46bd.css","assets/vendor.bcf7419b.js"])}]},{path:"/product",name:"product",component:()=>u(()=>import("./Product.0fbea573.js"),["assets/Product.0fbea573.js","assets/Product.b3b71b6a.css","assets/vendor.bcf7419b.js"])},{path:"/add_product",name:"add_product",component:()=>u(()=>import("./addProduct.4a4e8498.js"),["assets/addProduct.4a4e8498.js","assets/addProduct.93f62f7f.css","assets/vendor.bcf7419b.js","assets/wangEditor.71934d25.js"])},{path:"/customer",name:"customer",component:()=>u(()=>import("./Customer.43d22a5e.js"),["assets/Customer.43d22a5e.js","assets/Customer.47baed6c.css","assets/vendor.bcf7419b.js"])},{path:"/add_customer",name:"add_customer",component:()=>u(()=>import("./AddCustomer.de80bd34.js"),["assets/AddCustomer.de80bd34.js","assets/AddCustomer.94d3b99a.css","assets/vendor.bcf7419b.js","assets/wangEditor.71934d25.js"])},{path:"/order",name:"order",component:()=>u(()=>import("./Order.5b5841af.js"),["assets/Order.5b5841af.js","assets/Order.40c28510.css","assets/vendor.bcf7419b.js"])},{path:"/add_order",name:"add_order",component:()=>u(()=>import("./AddOrder.0efaf04d.js"),["assets/AddOrder.0efaf04d.js","assets/AddOrder.6b385798.css","assets/vendor.bcf7419b.js"])},{path:"/order_detail",name:"order_detail",component:()=>u(()=>import("./OrderDetail.195bd3bb.js"),["assets/OrderDetail.195bd3bb.js","assets/OrderDetail.24d3df79.css","assets/vendor.bcf7419b.js"])},{path:"/account",name:"account",component:()=>u(()=>import("./Account.3a4cf305.js"),["assets/Account.3a4cf305.js","assets/Account.8f24bcfb.css","assets/vendor.bcf7419b.js","assets/md5.85c9fa83.js"])}]});function w(e){const t=window.localStorage.getItem(e);try{return JSON.parse(window.localStorage.getItem(e))}catch{return t}}function Lt(e,t){window.localStorage.setItem(e,JSON.stringify(t))}function Ve(e){window.localStorage.removeItem(e)}function xt(e=""){const t=/[^\u0020-\u007E\u00A0-\u00BE\u2E80-\uA4CF\uF900-\uFAFF\uFE30-\uFE4F\uFF00-\uFFEF\u0080-\u009F\u2000-\u201f\u2026\u2022\u20ac\r\n]/g;return e.match(t)&&e.match(t).length}const Ot="https://django-pwq8-1593133-1309458132.ap-shanghai.run.tcloudbase.com/api/mgr/upload",Tt="https://django-pwq8-1593133-1309458132.ap-shanghai.run.tcloudbase.com",C={login:"\u767B\u5F55",introduce:"\u7CFB\u7EDF\u4ECB\u7ECD",dashboard:"\u5927\u76D8\u6570\u636E",add:"\u6DFB\u52A0\u5546\u54C1",swiper:"\u8F6E\u64AD\u56FE\u914D\u7F6E",hot:"\u70ED\u9500\u5546\u54C1\u914D\u7F6E",new:"\u65B0\u54C1\u4E0A\u7EBF\u914D\u7F6E",recommend:"\u4E3A\u4F60\u63A8\u8350\u914D\u7F6E",category:"\u5206\u7C7B\u7BA1\u7406",level2:"\u5206\u7C7B\u4E8C\u7EA7\u7BA1\u7406",level3:"\u5206\u7C7B\u4E09\u7EA7\u7BA1\u7406",product:"\u4EA7\u54C1\u7BA1\u7406",add_product:"\u6DFB\u52A0\u4EA7\u54C1",customer:"\u5BA2\u6237\u7BA1\u7406",add_customer:"\u6DFB\u52A0\u5BA2\u6237",order:"\u8BA2\u5355\u7BA1\u7406",add_order:"\u6DFB\u52A0\u8BA2\u5355",order_detail:"\u8BA2\u5355\u8BE6\u60C5",account:"\u4FEE\u6539\u8D26\u6237"};var Se={development:{baseUrl:"/api"},beta:{baseUrl:"https://django-pwq8-1593133-1309458132.ap-shanghai.run.tcloudbase.com/api"},release:{baseUrl:"https://django-pwq8-1593133-1309458132.ap-shanghai.run.tcloudbase.com/api"}};p.defaults.baseURL=Se.release.baseUrl;p.defaults.withCredentials=!0;p.defaults.headers["X-Requested-With"]="XMLHttpRequest";p.defaults.headers.token=w("token")||"";p.defaults.headers.post["Content-Type"]="application/json";p.interceptors.response.use(e=>typeof e.data!="object"?(O.error("\u670D\u52A1\u7AEF\u5F02\u5E38\uFF01"),Promise.reject(e)):e.data.code!=200?(e.data.msg&&O.error(e.data.msg),e.data.code==302&&S.push({path:"/login"}),Promise.reject(e.data)):e.data.data);var $=(e,t)=>{const o=e.__vccOpts||e;for(const[s,n]of t)o[s]=n;return o};const Ce={name:"Header",setup(){const e=D(),t=V({name:"HOME",userInfo:null,hasBack:!1});Q(()=>{const a=window.location.hash.split("/")[1]||"";["login"].includes(a)||o()});const o=async()=>{const a=await p.get("/mgr/admin_user?action=profile");t.userInfo=a},s=()=>{p.get("/mgr/signout").then(a=>{console.log(a),Ve("token"),window.location.reload()}).catch(a=>{})},n=()=>{e.back()};return e.afterEach(a=>{console.log("to",a);const{id:l}=a.query;t.name=C[a.name],l&&a.name=="add"&&(t.name="\u7F16\u8F91\u5546\u54C1"),t.hasBack=["level2","level3","order_detail"].includes(a.name)}),x(L({},Z(t)),{logout:s,back:n})}},H=e=>(R("data-v-61dd7a3d"),e=e(),P(),e),He={class:"header"},Ue={class:"left"},qe={style:{"font-size":"20px"}},Be={class:"right"},Ne={class:"author"},je=H(()=>r("i",{class:"icon el-icon-s-custom"},null,-1)),Ge=H(()=>r("i",{class:"el-icon-caret-bottom"},null,-1)),We={class:"nickname"},ze=m("\u9000\u51FA");function Je(e,t,o,s,n,a){const l=d("el-tag"),h=d("el-popover");return v(),I("div",He,[r("div",Ue,[e.hasBack?(v(),I("i",{key:0,class:"el-icon-back",onClick:t[0]||(t[0]=(...f)=>s.back&&s.back(...f))})):y("v-if",!0),r("span",qe,g(e.name),1)]),r("div",Be,[c(h,{placement:"bottom",width:320,trigger:"click","popper-class":"popper-user-box"},{reference:i(()=>[r("div",Ne,[je,m(" "+g(e.userInfo&&e.userInfo.username||"")+" ",1),Ge])]),default:i(()=>[r("div",We,[r("p",null,"\u767B\u5F55\u540D\uFF1A"+g(e.userInfo&&e.userInfo.username||""),1),r("p",null,"\u6635\u79F0\uFF1A"+g(e.userInfo&&e.userInfo.first_name+e.userInfo.last_name||""),1),c(l,{size:"small",effect:"dark",class:"logout",onClick:s.logout},{default:i(()=>[ze]),_:1},8,["onClick"])])]),_:1})])])}var Xe=$(Ce,[["render",Je],["__scopeId","data-v-61dd7a3d"]]);const Ke={name:"Footer"},U=e=>(R("data-v-40ab164b"),e=e(),P(),e),Ye={class:"footer"},Qe=U(()=>r("div",{class:"left"},"CRM\u540E\u53F0\u7BA1\u7406\u7CFB\u7EDF",-1)),Ze=U(()=>r("div",{class:"right"},[r("a",{target:"_blank",href:"https://github.com/newbee-ltd/vue3-admin"},"Version 1.0.0")],-1)),et=[Qe,Ze];function tt(e,t,o,s,n,a){return v(),I("div",Ye,et)}var ot=$(Ke,[["render",tt],["__scopeId","data-v-40ab164b"]]),nt="./assets/logo.03d6d6da.png";const at={name:"App",components:{Header:Xe,Footer:ot},setup(){console.log("App");const e=["/login"],t=D(),o=V({defaultOpen:["1","2","3","4"],showMenu:!0,currentPath:"/dashboard",count:{number:1}});window.history&&window.history.pushState&&(history.pushState(null,null,document.URL),window.addEventListener("popstate",()=>{w("token")||(o.showMenu=!1)},!1));const s=t.beforeEach((n,a,l)=>{n.path=="/login"||w("token")?l():l({path:"/login"}),o.showMenu=!e.includes(n.path),o.currentPath=n.path,document.title=C[n.name]});return ee(()=>{s()}),{state:o}}},_=e=>(R("data-v-7ba5bd90"),e=e(),P(),e),st={class:"layout"},rt=_(()=>r("div",{class:"head"},[r("div",null,[r("img",{src:nt,alt:"logo"}),r("span",null,"CRM")])],-1)),lt=_(()=>r("div",{class:"line"},null,-1)),it=_(()=>r("span",null,"\u6570\u636E\u7EDF\u8BA1",-1)),ct=_(()=>r("i",{class:"el-icon-data-line"},null,-1)),ut=m("\u7CFB\u7EDF\u4ECB\u7ECD"),dt=_(()=>r("i",{class:"el-icon-odometer"},null,-1)),_t=m("\u6570\u636E\u5927\u5C4F"),pt=_(()=>r("span",null,"\u6A21\u5757\u7BA1\u7406",-1)),mt=_(()=>r("i",{class:"el-icon-user-solid"},null,-1)),ht=m("\u5BA2\u6237\u7BA1\u7406"),ft=_(()=>r("i",{class:"el-icon-s-goods"},null,-1)),vt=m("\u4EA7\u54C1\u7BA1\u7406"),gt=_(()=>r("i",{class:"el-icon-s-order"},null,-1)),It=m("\u8BA2\u5355\u7BA1\u7406"),bt=_(()=>r("span",null,"\u7CFB\u7EDF\u7BA1\u7406",-1)),Et=_(()=>r("i",{class:"el-icon-lock"},null,-1)),yt=m("\u4FEE\u6539\u5BC6\u7801"),wt={class:"main"};function Rt(e,t,o,s,n,a){const l=d("el-menu-item"),h=d("el-menu-item-group"),f=d("el-submenu"),q=d("el-menu"),B=d("el-aside"),N=d("Header"),k=d("router-view"),j=d("Footer"),E=d("el-container");return v(),I("div",st,[s.state.showMenu?(v(),T(E,{key:0,class:"container"},{default:i(()=>[c(B,{class:"aside"},{default:i(()=>[rt,lt,c(q,{"default-openeds":s.state.defaultOpen,"background-color":"#222832","text-color":"#fff",router:!0,"default-active":s.state.currentPath},{default:i(()=>[c(f,{index:"1"},{title:i(()=>[it]),default:i(()=>[c(h,null,{default:i(()=>[c(l,{index:"/introduce"},{default:i(()=>[ct,ut]),_:1}),c(l,{index:"/dashboard"},{default:i(()=>[dt,_t]),_:1})]),_:1})]),_:1}),y(`     <el-submenu index="2">
            <template #title>
              <span>\u9996\u9875\u914D\u7F6E</span>
            </template>
            <el-menu-item-group>
              <el-menu-item index="/swiper"><i class="el-icon-picture" />\u8F6E\u64AD\u56FE\u914D\u7F6E</el-menu-item>
              <el-menu-item index="/hot"><i class="el-icon-star-on" />\u70ED\u9500\u5546\u54C1\u914D\u7F6E</el-menu-item>
              <el-menu-item index="/new"><i class="el-icon-sell" />\u65B0\u54C1\u4E0A\u7EBF\u914D\u7F6E</el-menu-item>
              <el-menu-item index="/recommend"><i class="el-icon-thumb" />\u4E3A\u4F60\u63A8\u8350\u914D\u7F6E</el-menu-item>
            </el-menu-item-group>
          </el-submenu> `),c(f,{index:"3"},{title:i(()=>[pt]),default:i(()=>[c(h,null,{default:i(()=>[y(' <el-menu-item index="/category"><i class="el-icon-menu" />\u5206\u7C7B\u7BA1\u7406</el-menu-item> '),c(l,{index:"/customer"},{default:i(()=>[mt,ht]),_:1}),c(l,{index:"/product"},{default:i(()=>[ft,vt]),_:1}),c(l,{index:"/order"},{default:i(()=>[gt,It]),_:1})]),_:1})]),_:1}),c(f,{index:"4"},{title:i(()=>[bt]),default:i(()=>[c(h,null,{default:i(()=>[c(l,{index:"/account"},{default:i(()=>[Et,yt]),_:1})]),_:1})]),_:1})]),_:1},8,["default-openeds","default-active"])]),_:1}),c(E,{class:"content"},{default:i(()=>[c(N),r("div",wt,[c(k)]),c(j)]),_:1})]),_:1})):(v(),T(E,{key:1,class:"container"},{default:i(()=>[c(k)]),_:1}))])}var Pt=$(at,[["render",Rt],["__scopeId","data-v-7ba5bd90"]]);const $t={0:"\u5F85\u652F\u4ED8",1:"\u5DF2\u652F\u4ED8",2:"\u914D\u8D27\u5B8C\u6210",3:"\u51FA\u5E93\u6210\u529F",4:"\u4EA4\u6613\u6210\u529F","-1":"\u624B\u52A8\u5173\u95ED","-2":"\u8D85\u65F6\u5173\u95ED","-3":"\u5546\u5BB6\u5173\u95ED"},b=te(Pt);function kt(e,t){e=new Date(e),typeof t=="undefined"&&(t="yyyy-MM-dd"),/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));let o={"M+":e.getMonth()+1,"d+":e.getDate(),"H+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds()};for(let s in o)if(new RegExp(`(${s})`).test(t)){let n=o[s]+"";t=t.replace(RegExp.$1,RegExp.$1.length===1?n:("00"+n).substr(n.length))}return t}b.config.globalProperties.$filters={orderMap(e){return $t[e]||"\u672A\u77E5\u72B6\u6001"},FormatDate(e,t){return kt(e,t)},prefix(e){return e&&e.startsWith("http")||(e=`https://django-pwq8-1593133-1309458132.ap-shanghai.run.tcloudbase.com${e}`),e},numFilter(e){return parseFloat(e).toFixed(3)},resetImgUrl(e,t,o){o>0?(e.onerror=function(){resetImgUrl(e,t,o-1)},setTimeout(function(){e.src=t},500)):(e.onerror=null,e.src=t)}};b.use(S);b.use(oe).use(ne).use(ae).use(se).use(re).use(le).use(ie).use(ce).use(ue).use(de).use(_e).use(pe).use(me).use(he).use(fe).use(ve).use(ge).use(Ie).use(be).use(Ee).use(ye).use(we).use(Re).use(Pe).use($e).use(ke).use(Ae).use(Fe).use(Le).use(xe).use(Oe);b.mount("#app");export{$ as _,nt as a,w as b,Tt as c,xt as h,Lt as l,Ot as u};
