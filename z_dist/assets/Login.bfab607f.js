var F=Object.defineProperty,V=Object.defineProperties;var k=Object.getOwnPropertyDescriptors;var _=Object.getOwnPropertySymbols;var y=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable;var f=(e,o,s)=>o in e?F(e,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[o]=s,v=(e,o)=>{for(var s in o||(o={}))y.call(o,s)&&f(e,s,o[s]);if(_)for(var s of _(o))C.call(o,s)&&f(e,s,o[s]);return e},g=(e,o)=>V(e,k(o));import{_ as S,l as L,a as j}from"./index.ce2553e5.js";import{a0 as x,r as I,t as M,d as n,e as N,f as U,g as m,j as t,w as d,b as $,_ as B,a1 as R,p as q,l as T,k as c}from"./vendor.fc966591.js";import"./md5.9af94280.js";const E={name:"Login",setup(){const e=x(null),o=I({ruleForm:{username:"",password:""},checked:!0,rules:{username:[{required:"true",message:"\u8D26\u6237\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],password:[{required:"true",message:"\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}}),s=async()=>{e.value.validate(p=>{if(p){let u=$.create();u.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded";const l=new URLSearchParams;l.append("username",o.ruleForm.username),l.append("password",o.ruleForm.password),u.post("/mgr/signin",l).then(a=>{console.log(a),a.data.code!=200?B.error(a.data.msg):(L("token",a.data.data.token),window.location.href="/")})}else return console.log("error submit!!"),!1})},i=()=>{e.value.resetFields()};return g(v({},M(o)),{loginForm:e,submitForm:s,resetForm:i})}},P=e=>(q("data-v-26084dc2"),e=e(),T(),e),z={class:"login-body"},A={class:"login-container"},D=R('<div class="head" data-v-26084dc2><img class="logo" src="'+j+'" data-v-26084dc2><div class="name" data-v-26084dc2><div class="title" data-v-26084dc2>CRM</div><div class="tips" data-v-26084dc2>Vue3.0 \u540E\u53F0\u7BA1\u7406\u7CFB\u7EDF</div></div></div>',1),G=P(()=>m("div",{style:{color:"#333"}},[c("\u767B\u5F55\u8868\u793A\u60A8\u5DF2\u540C\u610F"),m("a",null,"\u300A\u670D\u52A1\u6761\u6B3E\u300B")],-1)),H=c("\u7ACB\u5373\u767B\u5F55"),J=c("\u4E0B\u6B21\u81EA\u52A8\u767B\u5F55");function K(e,o,s,i,p,u){const l=n("el-input"),a=n("el-form-item"),w=n("el-button"),h=n("el-checkbox"),b=n("el-form");return N(),U("div",z,[m("div",A,[D,t(b,{"label-position":"top",rules:e.rules,model:e.ruleForm,ref:"loginForm",class:"login-form"},{default:d(()=>[t(a,{label:"\u8D26\u53F7",prop:"username"},{default:d(()=>[t(l,{type:"text",modelValue:e.ruleForm.username,"onUpdate:modelValue":o[0]||(o[0]=r=>e.ruleForm.username=r),modelModifiers:{trim:!0},autocomplete:"off"},null,8,["modelValue"])]),_:1}),t(a,{label:"\u5BC6\u7801",prop:"password"},{default:d(()=>[t(l,{type:"password",modelValue:e.ruleForm.password,"onUpdate:modelValue":o[1]||(o[1]=r=>e.ruleForm.password=r),modelModifiers:{trim:!0},autocomplete:"off"},null,8,["modelValue"])]),_:1}),t(a,null,{default:d(()=>[G,t(w,{style:{width:"100%"},type:"primary",onClick:i.submitForm},{default:d(()=>[H]),_:1},8,["onClick"]),t(h,{modelValue:e.checked,"onUpdate:modelValue":o[2]||(o[2]=r=>e.checked=r),onChange:o[3]||(o[3]=r=>!e.checked)},{default:d(()=>[J]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["rules","model"])])])}var Y=S(E,[["render",K],["__scopeId","data-v-26084dc2"]]);export{Y as default};
